{"abstractText": "To investigate a problem in neurobiology concerning the relative spatial positioning of two types of neuron in the retina. We used three example datasets (pretty much all that was available at the time) to investigate this problem using spatial statistics and simulations of spatial patterning. These datasets were not available in digital format, but the images2,3 were scanned in and digitised (each cell represented as an x,y location) byme as part of the work for the original paper. These datasets were not publicly shared before.", "authors": [{"affiliations": [], "name": "Stephen J. Eglen"}, {"affiliations": [], "name": "Nicolas P. Rougier"}, {"affiliations": [], "name": "Stephan Grein"}], "id": "SP:516354777651a78e8b92c5973daec9d56a1208d4", "references": [{"authors": ["S.J. Eglen", "J.C.T. Wong"], "title": "Spatial constraints underlying the retinal mosaics of two types of horizontal cells in cat and macaque.", "venue": "In: Vis. Neurosci", "year": 2008}, {"authors": ["H. W\u00e4ssle", "L. Peichl", "B.B. Boycott"], "title": "Topography of horizontal cells in the retina of the domestic cat.", "venue": "Proc. R. Soc. Lond. B Biol. Sci", "year": 1978}, {"authors": ["H. W\u00e4ssle", "D.M. Dacey", "T. Haun", "S. Haverkamp", "U. Gr\u00fcnert", "B.B. Boycott"], "title": "The mosaic of horizontal cells in the macaque monkey retina: with a comment on biplexiform ganglion cells.", "venue": "en. In: Vis. Neurosci", "year": 2000}, {"authors": ["B. Rowlingson", "P. Diggle"], "title": "splancs: Spatial and Space-Time Point Pattern Analysis. R package version 2.01-40", "year": 2017}, {"authors": ["S. Fortune"], "title": "A sweepline algorithm for Voronoi diagrams.", "year": 1987}], "sections": [{"text": "R E S C I E N C E C Replication / Computational Neuroscience\n[Re] Spatial constraints underlying the retinal mosaics of two types of horizontal cells in cat and macaque\nStephen J. Eglen1, ID 1Department of Applied Mathematics and Theoretical Physics, Cambridge, UK\nEdited by Nicolas P. Rougier ID\nReviewed by Stephan Grein ID\nReceived 30 April 2020\nPublished 31 August 2021\nDOI 10.5281/zenodo.5347786"}, {"heading": "Summary", "text": "This paper reports the successful reproduction of the results in a paper I co\u2010authored in 20081. A postprint of this paper is available at https://arxiv.org/abs/1208.0986. (Open ac\u2010 cess was not mandated by the funders of this research at the time of publication.) All the code has been uploaded to https://github.com/sje30/rescience-hor along with the Rmark\u2010 down sources for this report.\n1 Historical context\n1.1 Scientific question To investigate a problem in neurobiology concerning the relative spatial positioning of two types of neuron in the retina. We used three example datasets (pretty much all that was available at the time) to investigate this problem using spatial statistics and simulations of spatial patterning. These datasets were not available in digital format, but the images2,3 were scanned in and digitised (each cell represented as an x,y location) byme as part of the work for the original paper. These datasets were not publicly shared before.\n1.2 Computational context Most of the code required for the 2008 paper had been developed by myself since about 2000 working on other related problems. The major innovation here was in the biologi\u2010 cal problem. One of the key reasons I switched to R as a programming environment in the late 1990s was because of the strong support it had for spatial statistics. In particular the SPLANCS package4 in R has been a key package in most of my research.\n1.3 Original source code The original source code was not published or publicly archived before. I keep good backups though, and in this case the projects were still in my home directory (copied frommachine tomachine over the years). No licensewaswritten systematically to cover the code I wrote, although the R packages are usually released under GPL or MIT.\nCopyright \u00a9 2021 S.J. Eglen, released under a Creative Commons Attribution 4.0 International license. Correspondence should be addressed to Stephen J. Eglen (sje30@cam.ac.uk) The authors have declared that no competing interests exist. Code is available at https://github.com/sje30/rescience-hor. \u2013 SWH swh:1:dir:6088b7312865b39a4a5f5af78556bf6da5fa6409. Open peer review is available at https://github.com/ReScience/submissions/issues/34.\nReScience C 6.1 (#22) \u2013 Eglen 2021 1\nAs a side\u2010effect of producing this article, the following R packages of mine were made available:\n1. sjedmin: dmin model for spatial point patterns. https://github.com/sje30/sjedmin\n2. sjedist: unified calculation of spatial statistics. https://github.com/sje30/sjedist\n3. sjevor: Wrapper around public domain code for Voronoi tessellation https://github. com/sje30/sjevor\nThe Voronoi tessellation was public domain C code provided by Steve Fortune5. (This code was not required for the current project, but was implicitly required for the parent package, sjedist.)\n1.4 Retrieval of the software Thiswas relatively straightforward, as the softwarewas all onmyharddrive. One compli\u2010 cationwas that until a few years ago, I had been using RCS asmyprimary version control software. As I wished to release the packages onto github, I converted the history from RCS into Git using the tool https://github.com/Oblomov/rcs-fast-export. I anticipated that loading the data might be tricky, as I had used R\u2019s internal Rda for\u2010 mat to efficiently store the data files (they are not large, so there was no need to be concerned about efficiency). Given that this format could in principle change over time, this might have been a problem. However, R 4.0.0 was able to read in the file bivariate_mosaics.Rda.\n2 Execution\nThe code ran fine in today\u2019s version of R (4.0.0); see end of document for the full list of R dependencies. I did not need to load any older versions of libraries. The code was tested on both my laptop (ThinkPad T480s running Manjaro linux) and on https://mybinder.org (see the end of this document for mybinder details.) The simulations themselves only take a couple of minutes to run. If recompiling on binder, it takes a few more minutes to install all the packages and initialise the tex distribution. However, although the code worked fine, it took me about 20 minutes to read through the old scripts and work out what to do, as I had not provided a Makefile or similar. Once the code was running, I only wished to make cosmetic updates to the project to modernise it. The most significant change was converting the format for figures from postscript to pdf as there is more support for the latter. The three figures that were generated are reproduced in this paper and can be compared against the figures from the original paper. A Makefile is provided to help regenerate the simulation results and the figures. make clean will return the repository to a clean state. make all will first run the simulations and store the results in several .Rda files. There are then several R scripts to generate the figures from the corresponding .Rda files. Finally, after the figure pdfs have been generated, this document is compiled from its Rmarkdown source.\n2.1 Retrieval of the software Thiswas relatively straightforward, as the softwarewas all onmyharddrive. One compli\u2010 cationwas that until a few years ago, I had been using RCS asmyprimary version control software. As I wished to release the packages onto github, I converted the history from RCS into Git using the tool https://github.com/Oblomov/rcs-fast-export. I anticipated that loading the data might be tricky, as I had used R\u2019s internal Rda for\u2010 mat to efficiently store the data files (they are not large, so there was no need to be\nReScience C 6.1 (#22) \u2013 Eglen 2021 2\nconcerned about efficiency). Given that this format could in principle change over time, this might have been a problem. However, R 4.0.0 was able to read in the file bivariate_mosaics.Rda.\n3 Execution\nThe code ran fine in today\u2019s version of R (4.0.0); see end of document for the full list of R dependencies. I did not need to load any older versions of libraries. The code was tested on both my laptop (ThinkPad T480s running Manjaro linux) and on https://mybinder.org (see the end of this document for mybinder details.) The simulations themselves only take a couple of minutes to run. If recompiling on binder, it takes a few more minutes to install all the packages and initialise the tex distribution. However, although the code worked fine, it took me about 20 minutes to read through the old scripts and work out what to do, as I had not provided a Makefile or similar. Once the code was running, I only wished to make cosmetic updates to the project to modernise it. The most significant change was converting the format for figures from postscript to pdf as there is more support for the latter. The three figures that were generated are reproduced in this paper and can be compared against the figures from the original paper. A Makefile is provided to help regenerate the simulation results and the figures. make clean will return the repository to a clean state. make all will first run the simulations and store the results in several .Rda files. There are then several R scripts to generate the figures from the corresponding .Rda files. Finally, after the figure pdfs have been generated, this document is compiled from its Rmarkdown source.\n3.1 Reproduction of results The results generated closely matched those that were presented in the original paper. As the simulation methods are stochastic (and no seed was set for reproducible random number generation), the P values reported in Figure 2 do not match those originally reported, nor does the simulation field (right hand side of Figure 1) match. However, the statistical properties of the models still match those of the experimental data.\n3.2 Could someone else reproduce the work? If I had simply given the R code and packages to someone else, the lack of documenta\u2010 tion orMakefile would havemeant that this personwould have needed to study the code carefully to work out what files were generated. I would have hoped though that some\u2010 one fluent with R would have made sense of the code itself, and all of the parameters for the simulations were included in the source files.\nReScience C 6.1 (#22) \u2013 Eglen 2021 3\n4 Reproduction of Figure 1\nWe also made a supplementary figure of all 3 fields.\nReScience C 6.1 (#22) \u2013 Eglen 2021 4\n5 Reproduction of Figure 2\n1 2 1+2\nre gu\nla rit\ny in\nde x\n2\n4 6 L 1\n0 20 40\n0\n20\n40\np = 0.49\nA B C\nL 2\n0 20 40 60\n0\n20\n40\n60\np = 0.91\nL 1 +2\n0 20 40\n0\n20\n40\np = 0.99\ndistance (\u00b5m)\nL 1 2\n0 20 40\n0\n20\n40\np = 0.91\n1 2 1+2\n2\n4\n6\n0 20 40\n0\n20\n40\np = 0.45\n0 20 40 60\n0\n20\n40\n60\np = 0.82\n0 20 40\n0\n20\n40\np = 0.95\ndistance (\u00b5m) 0 20 40\n0\n20\n40\np = 0.89\n1 2 1+2\n2\n5\n8\n11\n0 50 100\n0\n50\n100\np = 0.84\n0 60 120\n0\n60\n120\np = 0.84\n0 20 40 60\n0\n20\n40\n60\np = 1.00\ndistance (\u00b5m) 0 20 40 60\n0\n20\n40\n60\np = 1.00\nReScience C 6.1 (#22) \u2013 Eglen 2021 5\n6 Reproduction of Figure 3\n1 2 1+2\nre gu\nla rit\ny in\nde x\n2\n4\n6\ndistance (\u00b5m)\nL 1 2\n0 20 40\n0\n20\n40\np = 1.00\nA B\n7 Reproduction of Table 2\nKey column from table 2 is the rejects column which is reproduced in Table 1. The other columns of this table were determined statically from the data sets, so were not recalculated here. (Had I known more about generating tables in R at the time, I think my R code should have created this entire table.)\n8 Conclusions\nIt was relatively easy to recompute the results in this report, because of the stability of the R environment and its packaging system. Even its binary data format (.Rda) for storing objects was reusable over a 10 year timescale. The largest challenge was the user issue of remembering what I had done to run the analysis and generate the results. Using mybinder.org was useful to iron out minor issues that others might face trying to run the software on their machine. In its current state, the repository requires R and make \u2013 if make is unavailable, the scripts would need to be run by hand, which is not onerous, but writing them out explicitly might help those unfamiliar with Make syntax."}], "title": "[Re] Spatial constraints underlying the retinal mosaics of two types of horizontal cells in cat and macaque", "year": 2021}