{"abstractText": "Thomas Misiek1*, ID and Mehdi Khamassi2,3,4, ID 1Institute of Intelligent Systems and Robotics, Centre National de la Recherche Scientifique, UMR 7222, Sorbonne Universit\u00e9, Paris, France \u2013 2Institute of Intelligent Systems and Robotics, Centre National de la Recherche Scientifique, UMR 7222, Sorbonne Universit\u00e9, Paris, France \u2013 3Ecole Normale Sup\u00e9rieure (PSL University), EHESS, Univ. Paris, Paris, France \u2013 4Institute of Communication and Computer Systems, National Technical University of Athens, Greece", "authors": [{"affiliations": [], "name": "Thomas Misiek"}, {"affiliations": [], "name": "Mehdi Khamassi"}, {"affiliations": [], "name": "Nicolas P. Rougier"}, {"affiliations": [], "name": "Julien Vitay"}, {"affiliations": [], "name": "Marcel Stimberg"}], "id": "SP:048fdcfaa932db1887f7490783a8ef156adb31a2", "references": [{"authors": ["J.P. Geerts", "F. Chersi", "K.L. Stachenfeld", "N. Burgess"], "title": "A general model of hippocampal and dorsal striatal learning and decision making.", "venue": "en. In: Proc. Natl. Acad. Sci. U. S. A", "year": 2020}, {"authors": ["P. Dayan"], "title": "Improving generalization for temporal difference learning: The successor representation.", "venue": "en. In: Neural Computation", "year": 1993}, {"authors": ["J.M. Pearce", "A.D. Roberts", "M. Good"], "title": "Hippocampal lesions disrupt navigation based on cognitive maps but not heading vectors.", "venue": "en. In: Nature", "year": 1998}, {"authors": ["R.G.M. Morris", "P. Garrud", "J.N.P. Rawlins", "J. O\u2019Keefe"], "title": "Place navigation impaired in rats with hippocampal lesions.", "venue": "Nature", "year": 1982}, {"authors": ["L. Doll\u00e9", "R. Chavarriaga", "A. Guillot", "andM. Khamassi"], "title": "Interactions of spatial strategies producing generalization gradient and blocking: A computational approach.", "venue": "PLoS computational biology", "year": 2018}, {"authors": ["E.M. Caves", "N.C. Brandley", "S. Johnsen"], "title": "Visual acuity and the evolution of signals.", "venue": "Trends in ecology & evolution", "year": 2018}, {"authors": ["A.D. Roberts", "J.M. Pearce"], "title": "Control of spatial behavior by an unstable landmark.", "venue": "Journal of Experimental Psychology: Animal Behavior Processes", "year": 1998}], "sections": [{"text": "R E S C I E N C E C Replication / Computational Neuroscience\n[Re] A general model of hippocampal and dorsal striatal learning and decision making\nThomas Misiek1*, ID and Mehdi Khamassi2,3,4, ID 1Institute of Intelligent Systems and Robotics, Centre National de la Recherche Scientifique, UMR 7222, Sorbonne Universit\u00e9, Paris, France \u2013 2Institute of Intelligent Systems and Robotics, Centre National de la Recherche Scientifique, UMR 7222, Sorbonne Universit\u00e9, Paris, France \u2013 3Ecole Normale Sup\u00e9rieure (PSL University), EHESS, Univ. Paris, Paris, France \u2013 4Institute of Communication and Computer Systems, National Technical University of Athens, Greece\nEdited by Nicolas P. Rougier ID\nReviewed by Julien Vitay ID\nMarcel Stimberg ID\nReceived 17 January 2022\nPublished 23 May 2022\nDOI 10.5281/zenodo.6573684\n1 Introduction\nThis study is a partial replication of Geerts, Chersi, Stachenfeld and Burgess (2020) [1] that presented a reliability\u2010based arbitrationmechanismbetweenanassociative\u2010learning strategy and a place\u2010based navigation strategy. This model was proposed to mimic the behavior of rats in a series of spatial navigation tasks that had been reported in previous experimental articles. The associative\u2010learning strategy is implemented using a classical Q\u2010learning algorithm which is fed with visual input in an egocentric frame of reference. The place\u2010based strategy on the other hand works in an allocentric fashion and is implemented using the Successor\u2010Representation initially proposed by Peter Dayan (1993) [2]. Here we present replications of model simulations in the first task addressed by Geerts and colleagues [1], i.e, the Pearce, Roberts and Good (1998) experiment [3]. This task is a variant of the Morris water\u2010maze task [4]. In this experiment, the behavior of a group of hippocampally\u2010lesioned animals is compared with that of a control group while they have to find a hidden platform immerged under opaque water. The platform location is indicated by a nearby visual landmark, while the position of the platform is regu\u2010 larly moved across multiple trials and sessions, to force the animals to constantly adapt (Fig. 1.A). Geerts and colleagues provided a python implementation of their model and of the sim\u2010 ulated task, accessible on ModelDB [5]. Nevertheless, we were not able to reproduce their results without modifications to the original code andmodel parameters. Further\u2010 more, while inspecting the provided modules, we found several discrepancies with the original experimental protocol (Fig. 1.B). In summary, although we partly reuse the original code of Geerts et al. (2020) [1], we argue that the present work should be considered as a replication rather than as a repro\u2010 duction (see the ReScience FAQ for a discussion on the meaning of both of these terms) due to the numerous changes brought to both the navigation strategy models and to the simulated experimental protocol.\nCopyright \u00a9 2022 T. Misiek and M. Khamassi, released under a Creative Commons Attribution 4.0 International license. Correspondence should be addressed to Mehdi Khamassi (mehdi.khamassi@sorbonne-unversite.fr) The authors have declared that no competing interests exist. Code is available at https://github.com/thomasMisiek/mixed-coordination-models \u2013 DOI 10.5281/zenodo.6551722. \u2013 SWH browse/revision/239cae046e09974d285fbb0d06c734b3a901fb5c/?origin_url=https://github.com/thomasMisiek/mixed-coordination-models. Open peer review is available at https://github.com/ReScience/submissions/issues/62.\nReScience C 8.1 (#4) \u2013 Misiek and Khamassi 2022 1\nReScience C 8.1 (#4) \u2013 Misiek and Khamassi 2022 3\n2.2 Topological discrepancieswith Geerts, Chersi, Stachenfeld andBurgess (2020)\u2019s provided code Geerts et al. (2020)\u2019s computational version of the water\u2010maze consists of an hexagonal environment composed of 271 discrete states (see Figure 1.B). Transitions from one state to its neighbors are possible along six directions: North, North\u2010East, South\u2010East, South, South\u2010West and North\u2010West. A first topological discrepancy with the original experiment is that in the latter the landmark\u2010platform distance is of a constant 20cm. In contrast, in Geerts et al. (2020)\u2019s code this distance is only of half a state, which roughly represents 5 centimeters relative to the size of the maze. This is quite important as these 20 centimeters distance were originally introduced by Pearce et al. (1998) to prevent a simple cue\u2010guided learning strategy to be sufficient to solve the task: such a strategy would not have been sufficient for the animal to find the platform by chance when moving around the landmark. A substantial distance between landmark and platform is thus important to hinder rats\u2019 associative\u2010learning performances, and thus to ensure that they would also rely on their cognitive mapping abilities. Secondly, in Geerts et al. (2020)\u2019s version of the task, agents are released from any of the states that are adjacent to the border of the pool, as long as the distance from the release point of the previous trial is sufficiently large. In contrast, in the original protocol agents were released at each trial from a random combination of all the four cardinal states. Finally, the platform\u2019s positions provided in Geerts et al. (2020)\u2019s source code were not accurately enough replicating the original topology of the environment. Indeed, Pearce and colleagues indicated that in the original protocol \u00ab the landmark and the platform midpoint was always located at the middle of one of the eight radii that were oriented toward the eight main points of the compass \u00bb (Pearce et al., 1998) [3]. In contrast, as can be seen on Figure 1.B, Geerts and colleagues positioned the platform too close to the edge of the pool. As a result, agents have a higher probability of reaching the platform by chance when navigating along the pool border. These three topological discrepancies have all been corrected in our new implementa\u2010 tion. Our version of themaze can be visualized and compared to the others in Figure 1.C.\n2.3 Non-topological discrepancies and limitations in the implementation of the navigation strategies In Geerts et al. (2020)\u2019 code, the agents\u2019 Successor\u2010Representation module was instan\u2010 tiated with non\u2010random and non\u2010zero weights. The weights were instantiated in such a way that the SR encoded an optimal representation of the transition function, as if agents had already wandered around across the water\u2010maze in an initial latent learning phase. Such a phase, however, is absent from the original protocol described in Pearce et al. (1998)\u2019s article. We corrected this by setting the initial values of all elements of the SR\u2019s matrix to 0. Secondly, Geerts et al. (2020)\u2019s protocol did not implement a mechanism simulating a laboratory assistant picking up the rat and placing it on the platform after failure of the rat to find it on its own. We thus implemented a mechanism which allows an agent in this situation to actually experience a transition to the platform state. Another important limitation of Geerts et al. (2020)\u2019s simulated results, which prevents them from perfectly reproducing rats\u2019 behavior in Pearce et al. (1998) has to do with the performance asymptote of the learning curves (Fig. 2.B). More precisely, the curves in Figure 2.B converge to a mean espace time of about 100 iterations of the model (to be compared with the <50 model iterations we reached after parameter optimization; Fig. 2.D). This means that the final performance of the originally simulated agents was not optimal, and that they followed detouring paths towards the platform, in contrast to the rat behavior reported in Pearce et al. (1998).\nReScience C 8.1 (#4) \u2013 Misiek and Khamassi 2022 4\nIn addition, a more minor discrepancy of Geerts et al. (2020)\u2019s simulations has to deal with the agents\u2019 limited visual perception. Their source code contains two consecutive uncommented lines, one which limits agents\u2019 ability to perceive the intra\u2010maze land\u2010 mark at distances higher than 180 cm, and the next line which limits it further to 60 cm. First, it is not clear which of the two limits was used in the simulations presented in Geerts et al. (2020), since this parameter of their simulations is not discussed in the paper. Nevertheless, given that the two lines are uncommented, it is likely that the simu\u2010 lated rats\u2019 perception was restricted to less than 60\u2010cm distances. While it is known that rats\u2019 visual acuity is poor compared to humans [7], it is unlikely that in the original ex\u2010 periment rats were not able to perceive the visual landmark above 60\u2010cmdistances. This is important, as the agents\u2019 distance from the landmark can go up to 150 cm in Pearce et al. (1998)\u2019s experiment. This 60\u2010cm limit can thus make the associative\u2010learning strat\u2010 egy perform artificially poorly. In contrast, from the detailed description of the experi\u2010 mental protocol of Pearce and colleagues [8], it is clear that the intramaze landmark is visually salient for the rats, since it is painted in black while the pool\u2019s walls are painted in white. Moreover, the experimental results show that rats can also take into account the extramaze visual cues (posters with salient colors on the wall of the 4mx3m exper\u2010 imental room, and a computer screen), while these distal cues are located at least 30 cm away from the pool\u2019s edge, and up to 1 m away. For these reasons, we increased the visual field of the landmark neurons in the associative\u2010learning module to 260cm. Finally, there was in the code no trace of an implementation of the eligibility trace al\u2010 gorithm, as claimed in the methods of the paper. We did not implement one in our version.\n2.4 Required re-optimization of model parameters In order to first reproduce Geerts et al. (2020)\u2019s simulation results [1] with the same vir\u2010 tual maze that they used (depicted in Fig. 1.B), we executed the original script provided by the authors. We were able to execute the code after correcting a few minor bugs. On the other hand, the parameters presented in the article are different from those found in the original source code of Geerts and colleagues. Thus it was not clear which exact model parameters were used to produce Fig. 2.B (adapted from their article). We were unable to replicate the authors learning curves with either parameter\u2010sets, thus we used manual tuning to find a suitable combination of parameter values. Secondly, as we modified the simulated protocol to better match Pearce\u2019s task (Fig. 1.C), we had to perform a parameter optimization so as to try to fit and replicate the experi\u2010 mental data (Fig. 2.A) Specifically, we ran a random grid\u2010search on four of the model\u2019s parameters: SR learning rate, MF learning rate, value function discount rate and ex\u2010 ploration inverse temperature. We generated 2000 random combinations of these four parameters within bounded values. We then conducted a single agent simulation for each set of parameters. The mean performances of local clusters of datapoints in the four dimensional\u2010space of parameters was computed and compared to the experimen\u2010 tal data using the Mean\u2010Squared\u2010Error (MSE) method. The centroid of the cluster with the lowest MSE was selected to produce the data published in this paper (Fig. 2.D).\n3 Results\nWe were first able to reproduce Geerts and colleagues\u2019 results using their original code (see Fig. 2.C). Nevertheless, this required a new optimization of model parameters (Ta\u2010 ble. 3), as neither those provided in the article nor in the code were able to match the article\u2019s figure (Fig. 2.B).\nReScience C 8.1 (#4) \u2013 Misiek and Khamassi 2022 5\nParameters Geerts article Geerts code Reproduction Replication\nMaze size (diameter) Unspecified 10 states 10 states 10 states Number of agents Unspecified 100 100 100\nPlatform\u2010landmark distance Unspecified 1 state 1 state 4 states HPC module learning rate 0.07 0.1 0.07 0.074 DLS module learning rate 0.07 0.1 0.07 0.256\nArbitrator inverse temperature 5 5 16 50 SR Discount factor 0.95 0.99 0.95 0.82 DLS Discount factor 0.95 0.9 0.9 0.92\nReliability learning rate 0.03 0.03 0.03 0.03 Transition rate MF to SR Unspecified 0.01 0.01 0.01 Transition rate SR to MF Unspecified 0.1 0.1 0.1\nSteepness of transition MF to SR 3.2 1. 3.2 3.2 Steepness of transition SR to MF 1.1 0.5 1.1 1.1\nDLS lesion False True False False\nWe were also able to replicate the original results of Pearce et al. (1998) [3] using the modified version of Geerts et al. (2020)\u2019s protocol that we implemented (see Fig. 2.D), and using the custom set of parameters found using our random grid\u2010search algorithm and producing the lowest MSE.(see Table 3). An ANOVA on the individual mean escape time of the agents showed a significant ef\u2010 fect of trial (p = 7.5e\u201023, F = 166.4) for the control group, whereas no significant effect (p=0.22) of trial was found for the hippocampally\u2010lesioned group, as was reported in Pearce et al. (1998)\u2019s paper. An ANOVA also showed a significant difference between the two groups both at the first and fourth trial (p < 2.e\u201006, F > 24.6 for both). The differ\u2010 ence in escape time between the first and last trials for the control group is smaller with our implementation than with Geerts et al. (2020)\u2019s one (compare Fig. 2.B and Fig.C to Fig. 2.D in early sessions). This can be explained by the fact that in their original article, Geerts et al. (2020)\u2019s Successor\u2010Representation matrix was instantiated with non\u2010zero weights which improved the performances of the place\u2010based module and thus inter\u2010 trial learning. Nevertheless, as we wrote in the methods above, this is less close to the experimental protocol in Pearce et al. (1998) where rats did not experience any pretrain\u2010 ing phase before the task.\n4 Conclusion\nWe were able to quantitatively and qualitatively replicate the results of the first experi\u2010 ment of Geert et al. (2020)\u2019s article. Despite the small variations in escape time at each session and trial, the behavior of the agents we eventually simulated after parameter re\u2010 tuning and adaptation of the simulated protocol was similar to both Pearce et al. (1998)\u2019s experimental data and Geerts et al. (2020)\u2019s simulated data. Thus, although the pub\u2010 lished implementation of the simulated task was not perfectly faithful to the original one, and although we were not able to exactly replicate Geerts et al. (2020)\u2019s results with it, our results confirm that the computational model presented in the original article can be adapted and retuned to account for the addressed experimental results."}], "title": "[Re] A general model of hippocampal and dorsal striatal learning and decision making", "year": 2022}